<nav class="navbar">
  <div class="nav-container">

    <!-- LOGO -->
    <a href="{% url 'movies-home' %}" class="logo-link">
      <h1 class="logo">Movie<span>Meter</span></h1>
    </a>

    {% if mode == "full" %}
    <!-- SEARCH + FILTER GROUP -->
    <form method="get" class="nav-search-group">

      <div class="search-form">
        <input
          type="text"
          name="search"
          placeholder="Search movies..."
          value="{{ request.GET.search }}"
        />
        <button type="submit" class="search-btn">ğŸ”</button>
      </div>

      <div class="nav-filters">
        <select name="genre">
          <option value="">Genre</option>
          {% for genre in genres %}
            <option value="{{ genre.name }}" {% if request.GET.genre == genre.name %}selected{% endif %}>
              {{ genre.name }}
            </option>
          {% endfor %}
        </select>

        <select name="released">
          <option value="">Status</option>
          <option value="true" {% if request.GET.released == "true" %}selected{% endif %}>
            Released
          </option>
          <option value="false" {% if request.GET.released == "false" %}selected{% endif %}>
            Upcoming
          </option>
        </select>

        <button type="submit" class="apply-btn">Apply</button>
      </div>

    </form>
    {% endif %}

    <!-- AUTH -->
    <div class="auth">
      {% if user.is_authenticated %}
        <a href="{% url 'profile' %}" class="profile-btn">
          {% if user.profile_image %}
            <img src="{{ user.profile_image.url }}" alt="Profile" class="nav-avatar">
          {% else %}
            <span class="nav-avatar-fallback">ğŸ‘¤</span>
          {% endif %}
          <span class="nav-username">{{ user.first_name }} {{ user.last_name }}</span>
        </a>
      {% else %}
        <a href="{% url 'login' %}" class="nav-link">Login</a>
        <a href="{% url 'signup' %}" class="btn-primary">Signup</a>
      {% endif %}
    </div>

  </div>
</nav>

<div class="navbar-spacer"></div>
