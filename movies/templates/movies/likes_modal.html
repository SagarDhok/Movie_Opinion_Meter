{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'movies/likes_modal.css' %}">
{% endblock %}

{% block navbar %}
  {% include "includes/navbar.html" with mode="mini" %}
{% endblock %}

{% block content %}
<div class="likes-page">

  <div class="likes-card">
    <div class="likes-header">
      <h2>Likes</h2>
      <a href="javascript:history.back()" class="likes-back-btn">Back</a>
    </div>

    <div class="likes-list">
      {% for like in likes %}
        <a href="{% url 'public_profile' like.user.id %}" class="like-user-link">
          <div class="like-user">
            {% if like.user.profile_image %}
              <img src="{{ like.user.profile_image.url }}" class="like-avatar" alt="Profile">
            {% else %}
              <div class="like-avatar fallback">
                {{ like.user.first_name|first|upper }}
              </div>
            {% endif %}

            <div class="user-meta">
              <div class="name">
                {{ like.user.first_name }} {{ like.user.last_name }}
              </div>
              <div class="joined">
                Joined: {{ like.user.date_joined|date:"M Y" }}
              </div>
            </div>
          </div>
        </a>
      {% empty %}
        <div class="no-likes">No likes yet</div>
      {% endfor %}
    </div>
  </div>

</div>
{% endblock %}
